<link rel="stylesheet" href="../css/styleInterno.css">
<div class="container" id="frmHorario">
    <div class="row justify-content-center">
        <div class="ampliacion">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-edit me-2"></i>
                        Modificar horarios grupales
                    </h5>
                </div>
                <div class="card-body p-4">
                    <form>
                        <!-- Sección de selección de criterios -->
                        <div class="row mb-4">
                            <div class="col-md-4 mb-3">
                                <label for="claveCarrera" class="form-label">Carrera</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-blue-light">
                                        <i class="fas fa-graduation-cap"></i>
                                    </span>
                                    <select id="claveCarrera" class="form-select" onchange="">
                                        <option value="">Seleccione una carrera...</option>
                                        <!-- Opciones se cargarán dinámicamente -->
                                    </select>
                                </div>
                                <div class="error-message" id="errorCarrera" style="display: none;"></div>
                            </div>

                            <div class="col-md-4 mb-3">
                                <label for="semestre" class="form-label">Semestre</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-blue-light">
                                        <i class="fas fa-layer-group"></i>
                                    </span>
                                    <select id="semestre" class="form-select" onchange="">
                                        <option value="">Seleccione semestre...</option>
                                        <option value="1">1°</option>
                                        <option value="2">2°</option>
                                        <option value="3">3°</option>
                                        <option value="4">4°</option>
                                        <option value="5">5°</option>
                                        <option value="6">6°</option>
                                        <option value="7">7°</option>
                                        <option value="8">8°</option>
                                        <option value="9">9°</option>
                                    </select>
                                </div>
                                <div class="error-message" id="errorSemestre" style="display: none;"></div>
                            </div>

                            <div class="col-md-4 mb-3">
                                <label for="grupo" class="form-label">Grupo</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-blue-light">
                                        <i class="fas fa-users"></i>
                                    </span>
                                    <select id="grupo" class="form-select" onchange="">
                                        <option value="">Seleccione grupo...</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                    </select>
                                </div>
                                <div class="error-message" id="errorGrupo" style="display: none;"></div>
                            </div>
                        </div>

                        <!-- Información del periodo activo -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="alert alert-info">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>Periodo activo:</strong>
                                    <span id="periodoInfo">Cargando información del periodo...</span>
                                </div>
                            </div>
                        </div>

                        <!-- Matriz de Alumnos con Horarios -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6 class="mb-0">
                                    <i class="fas fa-user-graduate me-2"></i>
                                    Alumnos con horarios registrados
                                    <span class="badge bg-primary ms-2" id="contadorAlumnos">0</span>
                                </h6>
                            </div>

                            <div class="matriz-container">
                                <table class="table table-sm tabla-matriz" id="tablaAlumnos">
                                    <thead>
                                    <tr>
                                        <th scope="col" style="width: 20%;">
                                            <i class="fas fa-id-card me-1"></i>
                                            Número de Control
                                        </th>
                                        <th scope="col" style="width: 40%;">
                                            <i class="fas fa-user me-1"></i>
                                            Nombre Completo
                                        </th>
                                        <th scope="col" style="width: 15%;">
                                            <i class="fas fa-layer-group me-1"></i>
                                            Semestre
                                        </th>
                                        <th scope="col" style="width: 15%;">
                                            <i class="fas fa-clipboard-list me-1"></i>
                                            Ofertas Asignadas
                                        </th>
                                        <th scope="col" style="width: 10%;">
                                            <i class="fas fa-check-circle me-1"></i>
                                            Estado
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody id="cuerpoAlumnos">
                                    <tr>
                                        <td colspan="5" class="empty-state">
                                            <i class="fas fa-search fa-2x mb-2"></i>
                                            <p class="mb-0">Seleccione carrera, semestre y grupo para mostrar alumnos con horarios</p>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Matriz de Ofertas Asignadas -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6 class="mb-0">
                                    <i class="fas fa-clipboard-check me-2"></i>
                                    Ofertas actualmente asignadas
                                    <span class="badge bg-success ms-2" id="contadorOfertasAsignadas">0</span>
                                </h6>
                                <button type="button" class="btn btn-sm btn-outline-danger" id="btnQuitarOfertas" disabled>
                                    <i class="fas fa-minus-circle me-1"></i>Quitar Seleccionadas
                                </button>
                            </div>

                            <div class="matriz-container">
                                <table class="table table-sm tabla-matriz" id="tablaOfertasAsignadas">
                                    <thead>
                                    <tr>
                                        <th scope="col" style="width: 5%;">
                                            <input type="checkbox" id="selectAllAsignadas" class="form-check-input">
                                        </th>
                                        <th scope="col" style="width: 10%;">
                                            <i class="fas fa-hashtag me-1"></i>
                                            ID Oferta
                                        </th>
                                        <th scope="col" style="width: 15%;">
                                            <i class="fas fa-key me-1"></i>
                                            Clave Materia
                                        </th>
                                        <th scope="col" style="width: 30%;">
                                            <i class="fas fa-book me-1"></i>
                                            Nombre Materia
                                        </th>
                                        <th scope="col" style="width: 25%;">
                                            <i class="fas fa-chalkboard-teacher me-1"></i>
                                            Docente
                                        </th>
                                        <th scope="col" style="width: 8%;">
                                            <i class="fas fa-users me-1"></i>
                                            Grupo
                                        </th>
                                        <th scope="col" style="width: 7%;">
                                            <i class="fas fa-moon me-1"></i>
                                            Turno
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody id="cuerpoOfertasAsignadas">
                                    <tr>
                                        <td colspan="7" class="empty-state">
                                            <i class="fas fa-clipboard fa-2x mb-2"></i>
                                            <p class="mb-0">Seleccione carrera, semestre y grupo para mostrar ofertas asignadas</p>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Matriz de Ofertas Disponibles para Agregar -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6 class="mb-0">
                                    <i class="fas fa-plus-circle me-2"></i>
                                    Ofertas disponibles para agregar
                                    <span class="badge bg-info ms-2" id="contadorOfertasDisponibles">0</span>
                                </h6>
                                <button type="button" class="btn btn-sm btn-outline-success" id="btnAgregarOfertas" disabled>
                                    <i class="fas fa-plus-circle me-1"></i>Agregar Seleccionadas
                                </button>
                            </div>

                            <div class="matriz-container">
                                <table class="table table-sm tabla-matriz" id="tablaOfertasDisponibles">
                                    <thead>
                                    <tr>
                                        <th scope="col" style="width: 5%;">
                                            <input type="checkbox" id="selectAllDisponibles" class="form-check-input">
                                        </th>
                                        <th scope="col" style="width: 10%;">
                                            <i class="fas fa-hashtag me-1"></i>
                                            ID Oferta
                                        </th>
                                        <th scope="col" style="width: 15%;">
                                            <i class="fas fa-key me-1"></i>
                                            Clave Materia
                                        </th>
                                        <th scope="col" style="width: 30%;">
                                            <i class="fas fa-book me-1"></i>
                                            Nombre Materia
                                        </th>
                                        <th scope="col" style="width: 25%;">
                                            <i class="fas fa-chalkboard-teacher me-1"></i>
                                            Docente
                                        </th>
                                        <th scope="col" style="width: 8%;">
                                            <i class="fas fa-users me-1"></i>
                                            Grupo
                                        </th>
                                        <th scope="col" style="width: 7%;">
                                            <i class="fas fa-moon me-1"></i>
                                            Turno
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody id="cuerpoOfertasDisponibles">
                                    <tr>
                                        <td colspan="7" class="empty-state">
                                            <i class="fas fa-search fa-2x mb-2"></i>
                                            <p class="mb-0">Seleccione carrera, semestre y grupo para mostrar ofertas disponibles</p>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Información de estado -->
                        <div class="mb-4">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <strong>Importante:</strong> Al guardar, se eliminarán todas las ofertas actuales del grupo y se aplicarán las nuevas selecciones a todos los alumnos.
                            </div>
                        </div>

                        <!-- Botones de acción -->
                        <div class="row">
                            <div class="col-12 separarBotones gap-2">
                                <button type="button"
                                        id="btnGuardarModificacion"
                                        class="btn btn3 btn-primary"
                                        onclick=""
                                        disabled>
                                    <i class="fas fa-save me-2"></i>Guardar Modificaciones
                                </button>
                                <button type="button"
                                        class="btn btn-outline-secondary"
                                        onclick="clearArea('frmHorario'); option('horario', '');">
                                    <i class="fas fa-times-circle me-2"></i>Cancelar
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
